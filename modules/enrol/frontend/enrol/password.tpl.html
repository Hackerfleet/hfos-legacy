<!--
  ~ Hackerfleet Operating System
  ~ ============================
  ~ Copyright (C) 2011 - 2018 riot <riot@c-base.org> and others.
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU Affero General Public License as published by
  ~ the Free Software Foundation, either version 3 of the License, or
  ~ (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU Affero General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Affero General Public License
  ~ along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->

<div class="well" style="padding-top: 5px">
    <h1 translate>Change password</h1>

    <span translate>Change your account password with this form</span>

    <form class="form-horizontal">
        <div class="form-group" ng-class="{hasError: $ctrl.password_old === ''}" ng-show="$ctrl.user.has_password">
            <label for="old_password" class="col-sm-2 control-label" translate>Old password:</label>
            <div class="col-sm-3">
                <input type="password" ng-model="$ctrl.password_old" class="form-control" id="old_password" />
            </div>
            <span class="help-block" ng-show="$ctrl.password_old === ''" translate>Enter your old password</span>
        </div>
        <br />
        <div class="form-group" ng-class="{hasError: $ctrl.password_new.length < 5}">
            <label for="password_one" class="col-sm-2 control-label" translate>Password:</label>
            <div class="col-sm-3">
                <input type="password" ng-model="$ctrl.password_new" class="form-control" id="password_one" />
            </div>
            <span class="help-block" ng-show="$ctrl.password_new.length < 5" translate>Enter at least 5 characters</span>
        </div>
        <div class="form-group">
            <label for="password_two" class="col-sm-2 control-label" translate>Confirm:</label>
            <div class="col-sm-3" ng-class="{hasError: $ctrl.password_new !== $ctrl.password_confirm}">
                <input type="password" ng-model="$ctrl.password_confirm" class="form-control" id="password_two" />
            </div>
            <span class="help-block" ng-show="$ctrl.password_new !== $ctrl.password_confirm" translate>
                Enter the same password for confirmation
            </span>
        </div>

        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-3">
                <button ng-class="{disabled: $ctrl.password_new.length < 5 || ($ctrl.password_old === '' && $ctrl.user.has_password === true) || $ctrl.password_new !== $ctrl.password_confirm}"
                        class="btn btn-default" ng-click="$ctrl.update_password()" translate>Submit</button>
            </div>
        </div>
    </form>
</div>
